<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AMapJS load</title>
  <link rel="stylesheet" href="./assets/style.css">
  <script src="./assets/log.js"></script>
</head>
<body>
<h1 id="header">AMapJS 使用示例</h1>
<div id="main">
  <div id="map"></div>
  <div id="info"></div>
</div>
<script type="text/javascript" src="../dist/amap-js.js"></script>
<script type="text/javascript">
  var aMapJSAPILoader = new AMapJS.AMapJSAPILoader({
    key: "您申请的key值",
    v: "1.4.14"
  });
  var aMapUILoader = new AMapJS.AMapUILoader({ v: "1.0" });

  /**
   * Promise回调
   */
  AMapJS.load([aMapJSAPILoader, aMapUILoader])
    .then(function(res) {
      var AMap = res[0];
      var initAMapUI = res[1];
      var AMapUI = initAMapUI();
      console.log(AMap, AMapUI);

      // 其他逻辑
      new AMap.Map(document.getElementById("map"));
      document.getElementById("info").innerHTML = [
        "<pre>" + log.AMapLog(AMap) + "</pre>",
        "<pre>" + log.AMapUILog(AMapUI) + "</pre>"
      ].join("");
    });

  /**
   * callback回调
   */
  // AMapJS.load([aMapJSAPILoader, aMapUILoader], function(AMap, initAMapUI) {
  //   var AMapUI = initAMapUI();
  //   console.log(AMap, AMapUI);
  //
  //   // 其他逻辑
  //   new AMap.Map(document.getElementById("map"));
  //   document.getElementById("info").innerHTML = [
  //     "<pre>" + log.AMapLog(AMap) + "</pre>",
  //     "<pre>" + log.AMapUILog(AMapUI) + "</pre>"
  //   ].join("");
  // });
</script>
</body>
</html>
