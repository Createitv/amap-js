/*!
 * AMapJS v1.0.0
 * 
 * Copyright (c) 2018 Derek Li
 * Released under the MIT License - https://choosealicense.com/licenses/mit/
 * 
 * https://github.com/iDerekLi/amap-js
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).AMapJS={})}(this,function(t){"use strict";function n(t,n){return t(n={exports:{}},n.exports),n.exports}var e=n(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),r=n(function(t){var n=t.exports={version:"2.6.4"};"number"==typeof __e&&(__e=n)}),o=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},c=function(t){try{return!!t()}catch(n){return!0}},a=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=e.document,s=o(u)&&o(u.createElement),f=function(t){return s?u.createElement(t):{}},p=!a&&!c(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a}),l=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,d={f:a?Object.defineProperty:function(t,n,e){if(i(t),n=l(n,!0),i(e),p)try{return h(t,n,e)}catch(r){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},v=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},y=a?function(t,n,e){return d.f(t,n,v(1,e))}:function(t,n,e){return t[n]=e,t},m={}.hasOwnProperty,g=function(t,n){return m.call(t,n)},w=0,S=Math.random(),_=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++w+S).toString(36))},A=!1,b=n(function(t){var n="__core-js_shared__",o=e[n]||(e[n]={});(t.exports=function(t,n){return o[t]||(o[t]=n!==undefined?n:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),M=b("native-function-to-string",Function.toString),O=n(function(t){var n=_("src"),o="toString",i=(""+M).split(o);r.inspectSource=function(t){return M.call(t)},(t.exports=function(t,r,o,c){var a="function"==typeof o;a&&(g(o,"name")||y(o,"name",r)),t[r]!==o&&(a&&(g(o,n)||y(o,n,t[r]?""+t[r]:i.join(String(r)))),t===e?t[r]=o:c?t[r]?t[r]=o:y(t,r,o):(delete t[r],y(t,r,o)))})(Function.prototype,o,function(){return"function"==typeof this&&this[n]||M.call(this)})}),j=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},P=function(t,n,e){if(j(t),n===undefined)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},T="prototype",I=function(t,n,o){var i,c,a,u,s=t&I.F,f=t&I.G,p=t&I.S,l=t&I.P,h=t&I.B,d=f?e:p?e[n]||(e[n]={}):(e[n]||{})[T],v=f?r:r[n]||(r[n]={}),m=v[T]||(v[T]={});for(i in f&&(o=n),o)a=((c=!s&&d&&d[i]!==undefined)?d:o)[i],u=h&&c?P(a,e):l&&"function"==typeof a?P(Function.call,a):a,d&&O(d,i,a,t&I.U),v[i]!=a&&y(v,i,u),l&&m[i]!=a&&(m[i]=a)};e.core=r,I.F=1,I.G=2,I.S=4,I.P=8,I.B=16,I.W=32,I.U=64,I.R=128;var L=I,k={}.toString,U=function(t){return k.call(t).slice(8,-1)},C=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==U(t)?t.split(""):Object(t)},E=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t},x=function(t){return Object(E(t))},R=Math.ceil,F=Math.floor,N=function(t){return isNaN(t=+t)?0:(t>0?F:R)(t)},q=Math.min,V=function(t){return t>0?q(N(t),9007199254740991):0},G=Array.isArray||function(t){return"Array"==U(t)},B=n(function(t){var n=b("wks"),r=e.Symbol,o="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=o&&r[t]||(o?r:_)("Symbol."+t))}).store=n}),D=B("species"),z=function(t){var n;return G(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!G(n.prototype)||(n=undefined),o(n)&&null===(n=n[D])&&(n=undefined)),n===undefined?Array:n},H=function(t,n){return new(z(t))(n)},J=function(t,n){return!!t&&c(function(){n?t.call(null,function(){},1):t.call(null)})},W=function(t,n){var e=1==t,r=2==t,o=3==t,i=4==t,c=6==t,a=5==t||c,u=n||H;return function(n,s,f){for(var p,l,h=x(n),d=C(h),v=P(s,f,3),y=V(d.length),m=0,g=e?u(n,y):r?u(n,0):undefined;y>m;m++)if((a||m in d)&&(l=v(p=d[m],m,h),t))if(e)g[m]=l;else if(l)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:g.push(p)}else if(i)return!1;return c?-1:o||i?i:g}}(0),K=J([].forEach,!0);L(L.P+L.F*!K,"Array",{forEach:function(t){return W(this,t,arguments[1])}}),L(L.S,"Array",{isArray:G});var Q=function(t){return C(E(t))},X=Math.max,Y=Math.min,Z=function(t,n){return(t=N(t))<0?X(t+n,0):Y(t,n)},$=function(t){return function(n,e,r){var o,i=Q(n),c=V(i.length),a=Z(r,c);if(t&&e!=e){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===e)return t||a||0;return!t&&-1}},tt=B("unscopables"),nt=Array.prototype;nt[tt]==undefined&&y(nt,tt,{});var et=function(t){nt[tt][t]=!0},rt=$(!0);L(L.P,"Array",{includes:function(t){return rt(this,t,arguments.length>1?arguments[1]:undefined)}}),et("includes");var ot=b("keys"),it=function(t){return ot[t]||(ot[t]=_(t))},ct=$(!1),at=it("IE_PROTO"),ut=function(t,n){var e,r=Q(t),o=0,i=[];for(e in r)e!=at&&g(r,e)&&i.push(e);for(;n.length>o;)g(r,e=n[o++])&&(~ct(i,e)||i.push(e));return i},st="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ft=Object.keys||function(t){return ut(t,st)},pt=a?Object.defineProperties:function(t,n){i(t);for(var e,r=ft(n),o=r.length,c=0;o>c;)d.f(t,e=r[c++],n[e]);return t};L(L.S+L.F*!a,"Object",{defineProperties:pt}),L(L.S+L.F*!a,"Object",{defineProperty:d.f});var lt=e.document,ht=lt&&lt.documentElement,dt=it("IE_PROTO"),vt=function(){},yt="prototype",mt=function(){var t,n=f("iframe"),e=st.length,r="<",o=">";for(n.style.display="none",ht.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write(r+"script"+o+"document.F=Object"+r+"/script"+o),t.close(),mt=t.F;e--;)delete mt[yt][st[e]];return mt()},gt=Object.create||function(t,n){var e;return null!==t?(vt[yt]=i(t),e=new vt,vt[yt]=null,e[dt]=t):e=mt(),n===undefined?e:pt(e,n)};L(L.S,"Object",{create:gt});var wt={f:Object.getOwnPropertySymbols},St={f:{}.propertyIsEnumerable},_t=Object.assign,At=!_t||c(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=_t({},t)[e]||Object.keys(_t({},n)).join("")!=r})?function(t,n){for(var e=x(t),r=arguments.length,o=1,i=wt.f,c=St.f;r>o;)for(var a,u=C(arguments[o++]),s=i?ft(u).concat(i(u)):ft(u),f=s.length,p=0;f>p;)c.call(u,a=s[p++])&&(e[a]=u[a]);return e}:_t;L(L.S+L.F,"Object",{assign:At});var bt=B("toStringTag"),Mt="Arguments"==U(function(){return arguments}()),Ot=function(t,n){try{return t[n]}catch(e){}},jt=function(t){var n,e,r;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(e=Ot(n=Object(t),bt))?e:Mt?U(n):"Object"==(r=U(n))&&"function"==typeof n.callee?"Arguments":r},Pt={};Pt[B("toStringTag")]="z",Pt+""!="[object z]"&&O(Object.prototype,"toString",function(){return"[object "+jt(this)+"]"},!0);var Tt=function(t){return function(n,e){var r,o,i=String(E(n)),c=N(e),a=i.length;return c<0||c>=a?t?"":undefined:(r=i.charCodeAt(c))<55296||r>56319||c+1===a||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):r:t?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},It={},Lt=d.f,kt=B("toStringTag"),Ut=function(t,n,e){t&&!g(t=e?t:t.prototype,kt)&&Lt(t,kt,{configurable:!0,value:n})},Ct={};y(Ct,B("iterator"),function(){return this});var Et=function(t,n,e){t.prototype=gt(Ct,{next:v(1,e)}),Ut(t,n+" Iterator")},xt=it("IE_PROTO"),Rt=Object.prototype,Ft=Object.getPrototypeOf||function(t){return t=x(t),g(t,xt)?t[xt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Rt:null},Nt=B("iterator"),qt=!([].keys&&"next"in[].keys()),Vt="@@iterator",Gt="keys",Bt="values",Dt=function(){return this},zt=function(t,n,e,r,o,i,c){Et(e,n,r);var a,u,s,f=function(t){if(!qt&&t in d)return d[t];switch(t){case Gt:case Bt:return function(){return new e(this,t)}}return function(){return new e(this,t)}},p=n+" Iterator",l=o==Bt,h=!1,d=t.prototype,v=d[Nt]||d[Vt]||o&&d[o],m=v||f(o),g=o?l?f("entries"):m:undefined,w="Array"==n&&d.entries||v;if(w&&(s=Ft(w.call(new t)))!==Object.prototype&&s.next&&(Ut(s,p,!0),A||"function"==typeof s[Nt]||y(s,Nt,Dt)),l&&v&&v.name!==Bt&&(h=!0,m=function(){return v.call(this)}),A&&!c||!qt&&!h&&d[Nt]||y(d,Nt,m),It[n]=m,It[p]=Dt,o)if(a={values:l?m:f(Bt),keys:i?m:f(Gt),entries:g},c)for(u in a)u in d||O(d,u,a[u]);else L(L.P+L.F*(qt||h),n,a);return a},Ht=Tt(!0);zt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:undefined,done:!0}:(t=Ht(n,e),this._i+=t.length,{value:t,done:!1})});var Jt=function(t,n){return{value:n,done:!!t}},Wt=zt(Array,"Array",function(t,n){this._t=Q(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=undefined,Jt(1)):Jt(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");It.Arguments=It.Array,et("keys"),et("values"),et("entries");for(var Kt=B("iterator"),Qt=B("toStringTag"),Xt=It.Array,Yt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Zt=ft(Yt),$t=0;$t<Zt.length;$t++){var tn,nn=Zt[$t],en=Yt[nn],rn=e[nn],on=rn&&rn.prototype;if(on&&(on[Kt]||y(on,Kt,Xt),on[Qt]||y(on,Qt,nn),It[nn]=Xt,en))for(tn in Wt)on[tn]||O(on,tn,Wt[tn],!0)}var cn,an,un,sn=function(t,n,e,r){if(!(t instanceof n)||r!==undefined&&r in t)throw TypeError(e+": incorrect invocation!");return t},fn=function(t,n,e,r){try{return r?n(i(e)[0],e[1]):n(e)}catch(c){var o=t["return"];throw o!==undefined&&i(o.call(t)),c}},pn=B("iterator"),ln=Array.prototype,hn=function(t){return t!==undefined&&(It.Array===t||ln[pn]===t)},dn=B("iterator"),vn=r.getIteratorMethod=function(t){if(t!=undefined)return t[dn]||t["@@iterator"]||It[jt(t)]},yn=n(function(t){var n={},e={},r=t.exports=function(t,r,o,c,a){var u,s,f,p,l=a?function(){return t}:vn(t),h=P(o,c,r?2:1),d=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(hn(l)){for(u=V(t.length);u>d;d++)if((p=r?h(i(s=t[d])[0],s[1]):h(t[d]))===n||p===e)return p}else for(f=l.call(t);!(s=f.next()).done;)if((p=fn(f,h,s.value,r))===n||p===e)return p};r.BREAK=n,r.RETURN=e}),mn=B("species"),gn=function(t,n){var e,r=i(t).constructor;return r===undefined||(e=i(r)[mn])==undefined?n:j(e)},wn=function(t,n,e){var r=e===undefined;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)},Sn=e.process,_n=e.setImmediate,An=e.clearImmediate,bn=e.MessageChannel,Mn=e.Dispatch,On=0,jn={},Pn="onreadystatechange",Tn=function(){var t=+this;if(jn.hasOwnProperty(t)){var n=jn[t];delete jn[t],n()}},In=function(t){Tn.call(t.data)};_n&&An||(_n=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return jn[++On]=function(){wn("function"==typeof t?t:Function(t),n)},cn(On),On},An=function(t){delete jn[t]},"process"==U(Sn)?cn=function(t){Sn.nextTick(P(Tn,t,1))}:Mn&&Mn.now?cn=function(t){Mn.now(P(Tn,t,1))}:bn?(un=(an=new bn).port2,an.port1.onmessage=In,cn=P(un.postMessage,un,1)):e.addEventListener&&"function"==typeof postMessage&&!e.importScripts?(cn=function(t){e.postMessage(t+"","*")},e.addEventListener("message",In,!1)):cn=Pn in f("script")?function(t){ht.appendChild(f("script"))[Pn]=function(){ht.removeChild(this),Tn.call(t)}}:function(t){setTimeout(P(Tn,t,1),0)});var Ln={set:_n,clear:An},kn=Ln.set,Un=e.MutationObserver||e.WebKitMutationObserver,Cn=e.process,En=e.Promise,xn="process"==U(Cn),Rn=function(){var t,n,r,o=function(){var e,o;for(xn&&(e=Cn.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?r():n=undefined,i}}n=undefined,e&&e.enter()};if(xn)r=function(){Cn.nextTick(o)};else if(!Un||e.navigator&&e.navigator.standalone)if(En&&En.resolve){var i=En.resolve(undefined);r=function(){i.then(o)}}else r=function(){kn.call(e,o)};else{var c=!0,a=document.createTextNode("");new Un(o).observe(a,{characterData:!0}),r=function(){a.data=c=!c}}return function(e){var o={fn:e,next:undefined};n&&(n.next=o),t||(t=o,r()),n=o}};function Fn(t){var n,e;this.promise=new t(function(t,r){if(n!==undefined||e!==undefined)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=j(n),this.reject=j(e)}var Nn={f:function(t){return new Fn(t)}},qn=function(t){try{return{e:!1,v:t()}}catch(n){return{e:!0,v:n}}},Vn=e.navigator,Gn=Vn&&Vn.userAgent||"",Bn=function(t,n){if(i(t),o(n)&&n.constructor===t)return n;var e=Nn.f(t);return(0,e.resolve)(n),e.promise},Dn=function(t,n,e){for(var r in n)O(t,r,n[r],e);return t},zn=B("species"),Hn=function(t){var n=e[t];a&&n&&!n[zn]&&d.f(n,zn,{configurable:!0,get:function(){return this}})},Jn=B("iterator"),Wn=!1;try{[7][Jn]()["return"]=function(){Wn=!0}}catch(Ie){}var Kn,Qn,Xn,Yn,Zn=function(t,n){if(!n&&!Wn)return!1;var e=!1;try{var r=[7],o=r[Jn]();o.next=function(){return{done:e=!0}},r[Jn]=function(){return o},t(r)}catch(Ie){}return e},$n=Ln.set,te=Rn(),ne="Promise",ee=e.TypeError,re=e.process,oe=re&&re.versions,ie=oe&&oe.v8||"",ce=e[ne],ae="process"==jt(re),ue=function(){},se=Qn=Nn.f,fe=!!function(){try{var t=ce.resolve(1),n=(t.constructor={})[B("species")]=function(t){t(ue,ue)};return(ae||"function"==typeof PromiseRejectionEvent)&&t.then(ue)instanceof n&&0!==ie.indexOf("6.6")&&-1===Gn.indexOf("Chrome/66")}catch(Ie){}}(),pe=function(t){var n;return!(!o(t)||"function"!=typeof(n=t.then))&&n},le=function(t,n){if(!t._n){t._n=!0;var e=t._c;te(function(){for(var r=t._v,o=1==t._s,i=0,c=function(n){var e,i,c,a=o?n.ok:n.fail,u=n.resolve,s=n.reject,f=n.domain;try{a?(o||(2==t._h&&ve(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),c=!0)),e===n.promise?s(ee("Promise-chain cycle")):(i=pe(e))?i.call(e,u,s):u(e)):s(r)}catch(Ie){f&&!c&&f.exit(),s(Ie)}};e.length>i;)c(e[i++]);t._c=[],t._n=!1,n&&!t._h&&he(t)})}},he=function(t){$n.call(e,function(){var n,r,o,i=t._v,c=de(t);if(c&&(n=qn(function(){ae?re.emit("unhandledRejection",i,t):(r=e.onunhandledrejection)?r({promise:t,reason:i}):(o=e.console)&&o.error&&o.error("Unhandled promise rejection",i)}),t._h=ae||de(t)?2:1),t._a=undefined,c&&n.e)throw n.v})},de=function(t){return 1!==t._h&&0===(t._a||t._c).length},ve=function(t){$n.call(e,function(){var n;ae?re.emit("rejectionHandled",t):(n=e.onrejectionhandled)&&n({promise:t,reason:t._v})})},ye=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),le(n,!0))},me=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw ee("Promise can't be resolved itself");(n=pe(t))?te(function(){var r={_w:e,_d:!1};try{n.call(t,P(me,r,1),P(ye,r,1))}catch(Ie){ye.call(r,Ie)}}):(e._v=t,e._s=1,le(e,!1))}catch(Ie){ye.call({_w:e,_d:!1},Ie)}}};fe||(ce=function(t){sn(this,ce,ne,"_h"),j(t),Kn.call(this);try{t(P(me,this,1),P(ye,this,1))}catch(n){ye.call(this,n)}},(Kn=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=Dn(ce.prototype,{then:function(t,n){var e=se(gn(this,ce));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=ae?re.domain:undefined,this._c.push(e),this._a&&this._a.push(e),this._s&&le(this,!1),e.promise},"catch":function(t){return this.then(undefined,t)}}),Xn=function(){var t=new Kn;this.promise=t,this.resolve=P(me,t,1),this.reject=P(ye,t,1)},Nn.f=se=function(t){return t===ce||t===Yn?new Xn(t):Qn(t)}),L(L.G+L.W+L.F*!fe,{Promise:ce}),Ut(ce,ne),Hn(ne),Yn=r[ne],L(L.S+L.F*!fe,ne,{reject:function(t){var n=se(this);return(0,n.reject)(t),n.promise}}),L(L.S+L.F*(A||!fe),ne,{resolve:function(t){return Bn(A&&this===Yn?ce:this,t)}}),L(L.S+L.F*!(fe&&Zn(function(t){ce.all(t)["catch"](ue)})),ne,{all:function(t){var n=this,e=se(n),r=e.resolve,o=e.reject,i=qn(function(){var e=[],i=0,c=1;yn(t,!1,function(t){var a=i++,u=!1;e.push(undefined),c++,n.resolve(t).then(function(t){u||(u=!0,e[a]=t,--c||r(e))},o)}),--c||r(e)});return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=se(n),r=e.reject,o=qn(function(){yn(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return o.e&&r(o.v),e.promise}});r.Promise;var ge=function(){};function we(t,n,e,r){var o=[];(Array.isArray(t)?t:[t]).forEach(function(t){if(!(t instanceof ge))throw new TypeError(t+" is not an instance of Loader");if("function"!=typeof t.load)throw new TypeError(t.load+" is not a function");var n=t.load();o.push(n)});var i=Promise.all(o),c={then:n,"catch":e,"finally":r},a={then:function(t){c.then.apply(c,t)},"catch":function(t){c["catch"](t)},"finally":function(){c["finally"]()}},u=i;for(var s in c)"function"==typeof c[s]&&(u=u[s](a[s]));return i}function Se(){return(Se=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function _e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Ae(t,n){void 0===n&&(n=!1);var e=n?"?":"",r=[],o=function(n){var e=t[n];if(["",undefined,null].includes(e))return"continue";e.constructor===Array?e.forEach(function(t){r.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))}):r.push(encodeURIComponent(n)+"="+encodeURIComponent(e))};for(var i in t)o(i);return r.length?e+r.join("&"):""}Object.assign(ge.prototype,{load:function(){}});var be={protocol:"https:",path:"webapi.amap.com/maps",key:"",v:"1.4.12",callback:"onAMapJS"+Math.ceil(Math.random()*Math.pow(10,16)),params:null,crossOrigin:"anonymous",keepScriptTag:!1},Me=function(t){function n(n){var e;e=t.call(this,n)||this;var r=Object.assign({},be,n);return e.protocol=r.protocol,e.path=r.path,e.params=Se({key:r.key,v:r.v,callback:r.callback},r.params),e.crossOrigin=r.crossOrigin,e.keepScriptTag=r.keepScriptTag,e}_e(n,t);var e=n.prototype;return e.load=function(){var t=this;if(this.checkCorrectness())return Promise.resolve(window.AMap);var n=document.createElement("script");n.charset="utf-8",n.type="text/javascript",n.async=!0,n.defer=!0,n.crossOrigin=this.crossOrigin,n.src=this.getRequestURL();var e=this.params.callback;return new Promise(function(r,o){window[e]=function(){return r(window.AMap)},"undefined"!=typeof n.onload?n.onload=function(){t.keepScriptTag||t.removeScriptTag(n)}:n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t.keepScriptTag||t.removeScriptTag(n))},n.onerror=function(e){t.keepScriptTag||t.removeScriptTag(n),o(e)},document.getElementsByTagName("head")[0].appendChild(n)})},e.checkCorrectness=function(){if(!window.AMap)return!1;for(var t=["v","Pixel","LngLat","Size","Bounds","Map"],n=0;n<t.length;n++){if(!(t[n]in window.AMap))return!1}return this.versionCompare(window.AMap.v,this.params.v)},e.versionCompare=function(t,n){return t===n},e.removeScriptTag=function(t){t.parentNode.removeChild(t)},e.toRequestURL=function(){return this.protocol+"//"+this.path+"?"+Ae(this.params)},e.getRequestURL=function(){return this.toRequestURL()},e.setProtocol=function(t){return this.protocol=t,this},e.setPath=function(t){return this.path=t,this},e.setParams=function(t){this.params=t},e.setKey=function(t){return this.params&&(this.params.key=t),this},e.setV=function(t){return this.params&&(this.params.v=t),this},e.setCrossOrigin=function(t){return this.crossOrigin=t,this},n}(ge),Oe={v:"1.0",protocol:"https:",path:"webapi.amap.com/ui/{v}/main-async.js",crossOrigin:"anonymous",AMapUIProtocol:undefined,initAMapUI:"initAMapUI",isAutoInitAMapUI:!1,keepScriptTag:!1},je=function(t){function n(n){var e;e=t.call(this,n)||this;var r=Object.assign({},Oe,n);return e.v=r.v,e.protocol=r.protocol,e.path=r.path,e.crossOrigin=r.crossOrigin,e.AMapUIProtocol=r.AMapUIProtocol,e.initAMapUI=r.initAMapUI,e.isAutoInitAMapUI=r.isAutoInitAMapUI,e.keepScriptTag=r.keepScriptTag,"string"==typeof e.AMapUIProtocol&&e.setAMapUIProtocol(e.AMapUIProtocol),e}_e(n,t);var e=n.prototype;return e.load=function(){var t=this;if(this.checkCorrectness()){var n=function(){return window.AMapUI};return Promise.resolve(this.isAutoInitAMapUI?n():n)}var e=document.createElement("script");return e.charset="utf-8",e.type="text/javascript",e.async=!0,e.defer=!0,e.crossOrigin=this.crossOrigin,e.src=this.getRequestURL(),new Promise(function(n,r){"undefined"!=typeof e.onload?e.onload=function(){t.keepScriptTag||t.removeScriptTag(e);var r=function(){return window[t.initAMapUI]()||window.AMapUI};n(t.isAutoInitAMapUI?r():r)}:e.onreadystatechange=function(){if("loaded"==e.readyState||"complete"==e.readyState){e.onreadystatechange=null,t.keepScriptTag||t.removeScriptTag(e);var r=function(){return window[t.initAMapUI]()||window.AMapUI};n(t.isAutoInitAMapUI?r():r)}},e.onerror=function(n){t.keepScriptTag||t.removeScriptTag(e),r(n)},document.getElementsByTagName("head")[0].appendChild(e)})},e.checkCorrectness=function(){if(!window.AMapUI)return!1;for(var t=["libConf","uiMods","docProtocol","version"],n=0;n<t.length;n++){if(!(t[n]in window.AMapUI))return!1}return this.versionCompare(window.AMapUI.libConf.mainVersion,this.v)},e.versionCompare=function(t,n){return t===n},e.removeScriptTag=function(t){t.parentNode.removeChild(t)},e.toRequestURL=function(){var t=this.protocol,n=this.v;return t+"//"+this.path.replace("{v}",n)},e.getRequestURL=function(){return this.toRequestURL()},e.setProtocol=function(t){return this.protocol=t,this},e.setPath=function(t){return this.path=t,this},e.setV=function(t){return this.v=t,this},e.setCrossOrigin=function(t){return this.crossOrigin=t,this},e.setAMapUIProtocol=function(t){var n="https:"===t?"https:":"http:";return window.AMapUIProtocol=n,this},n}(ge),Pe="1.0.0",Te={version:Pe,Loader:ge,load:we,AMapJSAPILoader:Me,AMapUILoader:je};t["default"]=Te,t.version=Pe,t.Loader=ge,t.load=we,t.AMapJSAPILoader=Me,t.AMapUILoader=je,Object.defineProperty(t,"__esModule",{value:!0})});
