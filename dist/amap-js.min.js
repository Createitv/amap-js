/*!
 * AMapJS v1.1.1
 * 
 * Copyright (c) 2018-present Derek Li
 * Released under the MIT License - https://choosealicense.com/licenses/mit/
 * 
 * https://github.com/iDerekLi/amap-js
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).AMapJS={})}(this,function(t){"use strict";function n(t,n){return t(n={exports:{}},n.exports),n.exports}var e=n(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),r=n(function(t){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)}),o=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},c=function(t){try{return!!t()}catch(Pe){return!0}},a=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=e.document,s=o(u)&&o(u.createElement),f=function(t){return s?u.createElement(t):{}},l=!a&&!c(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a}),p=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,d={f:a?Object.defineProperty:function(t,n,e){if(i(t),n=p(n,!0),i(e),l)try{return h(t,n,e)}catch(Pe){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},v=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},y=a?function(t,n,e){return d.f(t,n,v(1,e))}:function(t,n,e){return t[n]=e,t},m={}.hasOwnProperty,g=function(t,n){return m.call(t,n)},b=0,_=Math.random(),w=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++b+_).toString(36))},P=n(function(t){var n="__core-js_shared__",o=e[n]||(e[n]={});(t.exports=function(t,n){return o[t]||(o[t]=n!==undefined?n:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),A=P("native-function-to-string",Function.toString),O=n(function(t){var n=w("src"),o="toString",i=(""+A).split(o);r.inspectSource=function(t){return A.call(t)},(t.exports=function(t,r,o,c){var a="function"==typeof o;a&&(g(o,"name")||y(o,"name",r)),t[r]!==o&&(a&&(g(o,n)||y(o,n,t[r]?""+t[r]:i.join(String(r)))),t===e?t[r]=o:c?t[r]?t[r]=o:y(t,r,o):(delete t[r],y(t,r,o)))})(Function.prototype,o,function(){return"function"==typeof this&&this[n]||A.call(this)})}),S=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},j=function(t,n,e){if(S(t),n===undefined)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},k="prototype",M=function(t,n,o){var i,c,a,u,s=t&M.F,f=t&M.G,l=t&M.S,p=t&M.P,h=t&M.B,d=f?e:l?e[n]||(e[n]={}):(e[n]||{})[k],v=f?r:r[n]||(r[n]={}),m=v[k]||(v[k]={});for(i in f&&(o=n),o)a=((c=!s&&d&&d[i]!==undefined)?d:o)[i],u=h&&c?j(a,e):p&&"function"==typeof a?j(Function.call,a):a,d&&O(d,i,a,t&M.U),v[i]!=a&&y(v,i,u),p&&m[i]!=a&&(m[i]=a)};e.core=r,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var T=M,I={}.toString,L=function(t){return I.call(t).slice(8,-1)},E=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==L(t)?t.split(""):Object(t)},C=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t},U=function(t){return E(C(t))},x=Math.ceil,N=Math.floor,F=function(t){return isNaN(t=+t)?0:(t>0?N:x)(t)},R=Math.min,V=function(t){return t>0?R(F(t),9007199254740991):0},B=Math.max,D=Math.min,G=function(t,n){return(t=F(t))<0?B(t+n,0):D(t,n)},z=function(t){return function(n,e,r){var o,i=U(n),c=V(i.length),a=G(r,c);if(t&&e!=e){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===e)return t||a||0;return!t&&-1}},H=P("keys"),J=function(t){return H[t]||(H[t]=w(t))},W=z(!1),q=J("IE_PROTO"),K=function(t,n){var e,r=U(t),o=0,i=[];for(e in r)e!=q&&g(r,e)&&i.push(e);for(;n.length>o;)g(r,e=n[o++])&&(~W(i,e)||i.push(e));return i},Q="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),X=Object.keys||function(t){return K(t,Q)},Y=a?Object.defineProperties:function(t,n){i(t);for(var e,r=X(n),o=r.length,c=0;o>c;)d.f(t,e=r[c++],n[e]);return t};T(T.S+T.F*!a,"Object",{defineProperties:Y}),T(T.S+T.F*!a,"Object",{defineProperty:d.f});var Z=e.document,$=Z&&Z.documentElement,tt=J("IE_PROTO"),nt=function(){},et="prototype",rt=function(){var t,n=f("iframe"),e=Q.length,r="<",o=">";for(n.style.display="none",$.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write(r+"script"+o+"document.F=Object"+r+"/script"+o),t.close(),rt=t.F;e--;)delete rt[et][Q[e]];return rt()},ot=Object.create||function(t,n){var e;return null!==t?(nt[et]=i(t),e=new nt,nt[et]=null,e[tt]=t):e=rt(),n===undefined?e:Y(e,n)};T(T.S,"Object",{create:ot});var it={f:Object.getOwnPropertySymbols},ct={f:{}.propertyIsEnumerable},at=function(t){return Object(C(t))},ut=Object.assign,st=!ut||c(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=ut({},t)[e]||Object.keys(ut({},n)).join("")!=r})?function(t,n){for(var e=at(t),r=arguments.length,o=1,i=it.f,c=ct.f;r>o;)for(var u,s=E(arguments[o++]),f=i?X(s).concat(i(s)):X(s),l=f.length,p=0;l>p;)u=f[p++],a&&!c.call(s,u)||(e[u]=s[u]);return e}:ut;T(T.S+T.F,"Object",{assign:st});var ft=Array.isArray||function(t){return"Array"==L(t)},lt=n(function(t){var n=P("wks"),r=e.Symbol,o="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=o&&r[t]||(o?r:w)("Symbol."+t))}).store=n}),pt=lt("species"),ht=function(t){var n;return ft(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!ft(n.prototype)||(n=undefined),o(n)&&null===(n=n[pt])&&(n=undefined)),n===undefined?Array:n},dt=function(t,n){return new(ht(t))(n)},vt=function(t,n){return!!t&&c(function(){n?t.call(null,function(){},1):t.call(null)})},yt=function(t,n){var e=1==t,r=2==t,o=3==t,i=4==t,c=6==t,a=5==t||c,u=n||dt;return function(n,s,f){for(var l,p,h=at(n),d=E(h),v=j(s,f,3),y=V(d.length),m=0,g=e?u(n,y):r?u(n,0):undefined;y>m;m++)if((a||m in d)&&(p=v(l=d[m],m,h),t))if(e)g[m]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return m;case 2:g.push(l)}else if(i)return!1;return c?-1:o||i?i:g}}(0),mt=vt([].forEach,!0);T(T.P+T.F*!mt,"Array",{forEach:function(t){return yt(this,t,arguments[1])}}),T(T.S,"Array",{isArray:ft});var gt=lt("toStringTag"),bt="Arguments"==L(function(){return arguments}()),_t=function(t,n){try{return t[n]}catch(Pe){}},wt=function(t){var n,e,r;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(e=_t(n=Object(t),gt))?e:bt?L(n):"Object"==(r=L(n))&&"function"==typeof n.callee?"Arguments":r},Pt={};Pt[lt("toStringTag")]="z",Pt+""!="[object z]"&&O(Object.prototype,"toString",function(){return"[object "+wt(this)+"]"},!0);var At=function(t){return function(n,e){var r,o,i=String(C(n)),c=F(e),a=i.length;return c<0||c>=a?t?"":undefined:(r=i.charCodeAt(c))<55296||r>56319||c+1===a||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):r:t?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},Ot={},St=d.f,jt=lt("toStringTag"),kt=function(t,n,e){t&&!g(t=e?t:t.prototype,jt)&&St(t,jt,{configurable:!0,value:n})},Mt={};y(Mt,lt("iterator"),function(){return this});var Tt=function(t,n,e){t.prototype=ot(Mt,{next:v(1,e)}),kt(t,n+" Iterator")},It=J("IE_PROTO"),Lt=Object.prototype,Et=Object.getPrototypeOf||function(t){return t=at(t),g(t,It)?t[It]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Lt:null},Ct=lt("iterator"),Ut=!([].keys&&"next"in[].keys()),xt="@@iterator",Nt="keys",Ft="values",Rt=function(){return this},Vt=function(t,n,e,r,o,i,c){Tt(e,n,r);var a,u,s,f=function(t){if(!Ut&&t in d)return d[t];switch(t){case Nt:case Ft:return function(){return new e(this,t)}}return function(){return new e(this,t)}},l=n+" Iterator",p=o==Ft,h=!1,d=t.prototype,v=d[Ct]||d[xt]||o&&d[o],m=v||f(o),g=o?p?f("entries"):m:undefined,b="Array"==n&&d.entries||v;if(b&&(s=Et(b.call(new t)))!==Object.prototype&&s.next&&(kt(s,l,!0),"function"!=typeof s[Ct]&&y(s,Ct,Rt)),p&&v&&v.name!==Ft&&(h=!0,m=function(){return v.call(this)}),(Ut||h||!d[Ct])&&y(d,Ct,m),Ot[n]=m,Ot[l]=Rt,o)if(a={values:p?m:f(Ft),keys:i?m:f(Nt),entries:g},c)for(u in a)u in d||O(d,u,a[u]);else T(T.P+T.F*(Ut||h),n,a);return a},Bt=At(!0);Vt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:undefined,done:!0}:(t=Bt(n,e),this._i+=t.length,{value:t,done:!1})});var Dt=lt("unscopables"),Gt=Array.prototype;Gt[Dt]==undefined&&y(Gt,Dt,{});var zt=function(t){Gt[Dt][t]=!0},Ht=function(t,n){return{value:n,done:!!t}},Jt=Vt(Array,"Array",function(t,n){this._t=U(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=undefined,Ht(1)):Ht(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");Ot.Arguments=Ot.Array,zt("keys"),zt("values"),zt("entries");for(var Wt=lt("iterator"),qt=lt("toStringTag"),Kt=Ot.Array,Qt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Xt=X(Qt),Yt=0;Yt<Xt.length;Yt++){var Zt,$t=Xt[Yt],tn=Qt[$t],nn=e[$t],en=nn&&nn.prototype;if(en&&(en[Wt]||y(en,Wt,Kt),en[qt]||y(en,qt,$t),Ot[$t]=Kt,tn))for(Zt in Jt)en[Zt]||O(en,Zt,Jt[Zt],!0)}var rn,on,cn,an=function(t,n,e,r){if(!(t instanceof n)||r!==undefined&&r in t)throw TypeError(e+": incorrect invocation!");return t},un=function(t,n,e,r){try{return r?n(i(e)[0],e[1]):n(e)}catch(Pe){var o=t["return"];throw o!==undefined&&i(o.call(t)),Pe}},sn=lt("iterator"),fn=Array.prototype,ln=function(t){return t!==undefined&&(Ot.Array===t||fn[sn]===t)},pn=lt("iterator"),hn=r.getIteratorMethod=function(t){if(t!=undefined)return t[pn]||t["@@iterator"]||Ot[wt(t)]},dn=n(function(t){var n={},e={},r=t.exports=function(t,r,o,c,a){var u,s,f,l,p=a?function(){return t}:hn(t),h=j(o,c,r?2:1),d=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(ln(p)){for(u=V(t.length);u>d;d++)if((l=r?h(i(s=t[d])[0],s[1]):h(t[d]))===n||l===e)return l}else for(f=p.call(t);!(s=f.next()).done;)if((l=un(f,h,s.value,r))===n||l===e)return l};r.BREAK=n,r.RETURN=e}),vn=lt("species"),yn=function(t,n){var e,r=i(t).constructor;return r===undefined||(e=i(r)[vn])==undefined?n:S(e)},mn=function(t,n,e){var r=e===undefined;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)},gn=e.process,bn=e.setImmediate,_n=e.clearImmediate,wn=e.MessageChannel,Pn=e.Dispatch,An=0,On={},Sn="onreadystatechange",jn=function(){var t=+this;if(On.hasOwnProperty(t)){var n=On[t];delete On[t],n()}},kn=function(t){jn.call(t.data)};bn&&_n||(bn=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return On[++An]=function(){mn("function"==typeof t?t:Function(t),n)},rn(An),An},_n=function(t){delete On[t]},"process"==L(gn)?rn=function(t){gn.nextTick(j(jn,t,1))}:Pn&&Pn.now?rn=function(t){Pn.now(j(jn,t,1))}:wn?(cn=(on=new wn).port2,on.port1.onmessage=kn,rn=j(cn.postMessage,cn,1)):e.addEventListener&&"function"==typeof postMessage&&!e.importScripts?(rn=function(t){e.postMessage(t+"","*")},e.addEventListener("message",kn,!1)):rn=Sn in f("script")?function(t){$.appendChild(f("script"))[Sn]=function(){$.removeChild(this),jn.call(t)}}:function(t){setTimeout(j(jn,t,1),0)});var Mn={set:bn,clear:_n},Tn=Mn.set,In=e.MutationObserver||e.WebKitMutationObserver,Ln=e.process,En=e.Promise,Cn="process"==L(Ln),Un=function(){var t,n,r,o=function(){var e,o;for(Cn&&(e=Ln.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(Pe){throw t?r():n=undefined,Pe}}n=undefined,e&&e.enter()};if(Cn)r=function(){Ln.nextTick(o)};else if(!In||e.navigator&&e.navigator.standalone)if(En&&En.resolve){var i=En.resolve(undefined);r=function(){i.then(o)}}else r=function(){Tn.call(e,o)};else{var c=!0,a=document.createTextNode("");new In(o).observe(a,{characterData:!0}),r=function(){a.data=c=!c}}return function(e){var o={fn:e,next:undefined};n&&(n.next=o),t||(t=o,r()),n=o}};function xn(t){var n,e;this.promise=new t(function(t,r){if(n!==undefined||e!==undefined)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=S(n),this.reject=S(e)}var Nn={f:function(t){return new xn(t)}},Fn=function(t){try{return{e:!1,v:t()}}catch(Pe){return{e:!0,v:Pe}}},Rn=e.navigator,Vn=Rn&&Rn.userAgent||"",Bn=function(t,n){if(i(t),o(n)&&n.constructor===t)return n;var e=Nn.f(t);return(0,e.resolve)(n),e.promise},Dn=function(t,n,e){for(var r in n)O(t,r,n[r],e);return t},Gn=lt("species"),zn=function(t){var n=e[t];a&&n&&!n[Gn]&&d.f(n,Gn,{configurable:!0,get:function(){return this}})},Hn=lt("iterator"),Jn=!1;try{var Wn=[7][Hn]();Wn["return"]=function(){Jn=!0},Array.from(Wn,function(){throw 2})}catch(Pe){}var qn,Kn,Qn,Xn,Yn=function(t,n){if(!n&&!Jn)return!1;var e=!1;try{var r=[7],o=r[Hn]();o.next=function(){return{done:e=!0}},r[Hn]=function(){return o},t(r)}catch(Pe){}return e},Zn=Mn.set,$n=Un(),te="Promise",ne=e.TypeError,ee=e.process,re=ee&&ee.versions,oe=re&&re.v8||"",ie=e[te],ce="process"==wt(ee),ae=function(){},ue=Kn=Nn.f,se=!!function(){try{var t=ie.resolve(1),n=(t.constructor={})[lt("species")]=function(t){t(ae,ae)};return(ce||"function"==typeof PromiseRejectionEvent)&&t.then(ae)instanceof n&&0!==oe.indexOf("6.6")&&-1===Vn.indexOf("Chrome/66")}catch(Pe){}}(),fe=function(t){var n;return!(!o(t)||"function"!=typeof(n=t.then))&&n},le=function(t,n){if(!t._n){t._n=!0;var e=t._c;$n(function(){for(var r=t._v,o=1==t._s,i=0,c=function(n){var e,i,c,a=o?n.ok:n.fail,u=n.resolve,s=n.reject,f=n.domain;try{a?(o||(2==t._h&&de(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),c=!0)),e===n.promise?s(ne("Promise-chain cycle")):(i=fe(e))?i.call(e,u,s):u(e)):s(r)}catch(Pe){f&&!c&&f.exit(),s(Pe)}};e.length>i;)c(e[i++]);t._c=[],t._n=!1,n&&!t._h&&pe(t)})}},pe=function(t){Zn.call(e,function(){var n,r,o,i=t._v,c=he(t);if(c&&(n=Fn(function(){ce?ee.emit("unhandledRejection",i,t):(r=e.onunhandledrejection)?r({promise:t,reason:i}):(o=e.console)&&o.error&&o.error("Unhandled promise rejection",i)}),t._h=ce||he(t)?2:1),t._a=undefined,c&&n.e)throw n.v})},he=function(t){return 1!==t._h&&0===(t._a||t._c).length},de=function(t){Zn.call(e,function(){var n;ce?ee.emit("rejectionHandled",t):(n=e.onrejectionhandled)&&n({promise:t,reason:t._v})})},ve=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),le(n,!0))},ye=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw ne("Promise can't be resolved itself");(n=fe(t))?$n(function(){var r={_w:e,_d:!1};try{n.call(t,j(ye,r,1),j(ve,r,1))}catch(Pe){ve.call(r,Pe)}}):(e._v=t,e._s=1,le(e,!1))}catch(Pe){ve.call({_w:e,_d:!1},Pe)}}};se||(ie=function(t){an(this,ie,te,"_h"),S(t),qn.call(this);try{t(j(ye,this,1),j(ve,this,1))}catch(n){ve.call(this,n)}},(qn=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=Dn(ie.prototype,{then:function(t,n){var e=ue(yn(this,ie));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=ce?ee.domain:undefined,this._c.push(e),this._a&&this._a.push(e),this._s&&le(this,!1),e.promise},"catch":function(t){return this.then(undefined,t)}}),Qn=function(){var t=new qn;this.promise=t,this.resolve=j(ye,t,1),this.reject=j(ve,t,1)},Nn.f=ue=function(t){return t===ie||t===Xn?new Qn(t):Kn(t)}),T(T.G+T.W+T.F*!se,{Promise:ie}),kt(ie,te),zn(te),Xn=r[te],T(T.S+T.F*!se,te,{reject:function(t){var n=ue(this);return(0,n.reject)(t),n.promise}}),T(T.S+T.F*!se,te,{resolve:function(t){return Bn(this,t)}}),T(T.S+T.F*!(se&&Yn(function(t){ie.all(t)["catch"](ae)})),te,{all:function(t){var n=this,e=ue(n),r=e.resolve,o=e.reject,i=Fn(function(){var e=[],i=0,c=1;dn(t,!1,function(t){var a=i++,u=!1;e.push(undefined),c++,n.resolve(t).then(function(t){u||(u=!0,e[a]=t,--c||r(e))},o)}),--c||r(e)});return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=ue(n),r=e.reject,o=Fn(function(){dn(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return o.e&&r(o.v),e.promise}});r.Promise;var me=function(){};function ge(t,n,e,r){var o=[];(Array.isArray(t)?t:[t]).forEach(function(t){if(!(t instanceof me))throw new TypeError(t+" is not an instance of Loader");if("function"!=typeof t.load)throw new TypeError(t.load+" is not a function");var n=t.load();o.push(n)});var i=Promise.all(o),c={then:n,"catch":e,"finally":r},a={then:function(t){c.then.apply(c,t)},"catch":function(t){c["catch"](t)},"finally":function(){c["finally"]()}},u=i;for(var s in c)"function"==typeof c[s]&&(u=u[s](a[s]));return i}function be(){return(be=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function _e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function we(){return(we=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}Object.assign(me.prototype,{load:function(){}});var Pe="1.1.1";function Ae(t){function n(n,e){if("object"==typeof t[e]&&"object"==typeof n)t[e]=Ae(t[e],n);else if("object"==typeof n&&null!==n){var r="[object Array]"===Object.prototype.toString.call(n)?[]:{};t[e]=Ae(r,n)}else t[e]=n}for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];for(var i=0,c=r.length;i<c;i++)for(var a in r[i])n(r[i][a],a);return t}function Oe(t,n,e){if("object"!=typeof t||null===t)throw Error("obj is not an Object type");if(!n)return t;var r="string"==typeof n?n.split("."):n,o=r.length,i=r.shift();if("string"!=typeof i||""===i)throw Error("error attribute path");return o>1?Oe(t[i],r,e):e!==undefined?t[i]=e:t[i]}function Se(t,n){for(var e in n)if(t===n[e])return!0;return!1}function je(t,n){void 0===n&&(n=""),n="boolean"==typeof n?"?":n;var e=[],r=function(n){var r=t[n];if(Se(r,["",undefined,null]))return"continue";r.constructor===Array?r.forEach(function(t){e.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))};for(var o in t)r(o);return e.length?n+e.join("&"):""}var ke={baseURL:"",url:"",params:{},callbackProp:!1,callbackNamespase:"__httpJsonpCallback",callbackName:"",timeout:6e4,scriptAttr:{type:"",charset:"",crossOrigin:null,async:!0,defer:!1},keepScriptTag:!1,callback:null,load:null,error:null,complete:null,then:null,"catch":null,"finally":null},Me=Date.now();function Te(){}var Ie=function(t,n,e){var r=Oe(window,t);if(r=t&&!r?Oe(window,t,{}):r||window,!e)return r[n];r[n]=e},Le=function(t,n){t.onload!==undefined?t.onload=function(){n()}:t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,n())}},Ee=function(t,n){t.onerror=n};function Ce(t,n){"string"==typeof t&&(t={url:t}),n||(n={});var e,r,o=Ae({},ke,t||{}),i=we({callback:o.callback,load:o.load,error:o.error,complete:o.complete},n),c=o.params,a="",u="",s=o.callbackNamespase,f=o.callbackProp;function l(){o.keepScriptTag||e.parentNode&&e.parentNode.removeChild(e),u&&Ie(s,u,Te),Le(e,Te),Ee(e,Te),r&&clearTimeout(r)}function p(){a="cancel",Ie(s,u)&&l()}f&&""!==c[f]&&(u=c[f]?c[f]:o.callbackName||"jp"+Me++,c[f]=s?s+"."+u:u);var h=o.timeout;h&&(r=setTimeout(function(){a="error",l(),i.error&&i.error(new Error("Request Timeout")),i.complete&&i.complete()},h));var d=o.baseURL+o.url;d=(d+=je(c,~d.indexOf("?")?"&":"?")).replace("?&","?"),e=document.createElement("script");var v=o.scriptAttr;for(var y in delete v.text,delete v.src,v)e[y]=v[y];u?Ie(s,u,function(t){l(),"error"!==a&&(a="callback",i.callback&&i.callback(t),i.complete&&i.complete())}):Le(e,function(){l(),"error"!==a&&(a="load",i.load&&i.load(),i.complete&&i.complete())}),Ee(e,function(){a="error",l(),i.error&&i.error(new Error("script error")),i.complete&&i.complete()}),e.src=d;var m=document.getElementsByTagName("script")[0]||document.head||document.getElementsByTagName("head")[0];return m.parentNode.insertBefore(e,m),{cancel:p}}Ce.version=Pe;var Ue={protocol:"https:",path:"webapi.amap.com/maps",key:"",v:"1.4.14",params:null,callbackProp:"callback",callbackName:"",crossOrigin:null,keepScriptTag:!1},xe=function(t){function n(n){var e;e=t.call(this,n)||this;var r=Object.assign({},Ue,n);return e.protocol=r.protocol,e.path=r.path,e.params=be({key:r.key,v:r.v},r.params),e.callbackProp=r.callbackProp,e.callbackName=r.callbackName,e.crossOrigin=r.crossOrigin,e.keepScriptTag=r.keepScriptTag,e}_e(n,t);var e=n.prototype;return e.load=function(){var t=this;return this.__loadPromise?this.__loadPromise:(this.__loadPromise=new Promise(function(n,e){var r=function(){t.__loadPromise=null,n(window.AMap)};if(t.checkCorrectness())return r();Ce({url:t.protocol+("//"===t.path.slice(0,2)?t.path:"//"+t.path),params:t.params,callbackProp:t.callbackProp,callbackName:t.callbackName,scriptAttr:{async:!0,crossOrigin:t.crossOrigin},keepScriptTag:t.keepScriptTag,callback:r,error:function(n){t.__loadPromise=null,e(n)}})}),this.__loadPromise)},e.checkCorrectness=function(){if(!window.AMap&&"object"!=typeof window.AMap)return!1;for(var t=0,n=["v","Pixel","LngLat","Size","Bounds","Map"];t<n.length;t++){if(!(n[t]in window.AMap))return!1}return this.versionCompare(window.AMap.v,this.params.v)},e.versionCompare=function(t,n){return t===n},e.setProtocol=function(t){return this.protocol=t,this},e.setPath=function(t){return this.path=t,this},e.setKey=function(t){return this.params&&(this.params.key=t),this},e.setV=function(t){return this.params&&(this.params.v=t),this},e.setParams=function(t){return this.params=t,this},e.setCrossOrigin=function(t){return this.crossOrigin=t,this},n}(me),Ne={protocol:"https:",path:"webapi.amap.com/ui/{v}/main-async.js",v:"1.0",initAMapUI:"initAMapUI",isAutoInitAMapUI:!1,AMapUIProtocol:undefined,crossOrigin:"anonymous",keepScriptTag:!1},Fe=function(t){function n(n){var e;e=t.call(this,n)||this;var r=Object.assign({},Ne,n);return e.v=r.v,e.protocol=r.protocol,e.path=r.path,e.AMapUIProtocol=r.AMapUIProtocol,e.initAMapUI=r.initAMapUI,e.isAutoInitAMapUI=r.isAutoInitAMapUI,e.crossOrigin=r.crossOrigin,e.keepScriptTag=r.keepScriptTag,"string"==typeof e.AMapUIProtocol&&e.setAMapUIProtocol(e.AMapUIProtocol),e}_e(n,t);var e=n.prototype;return e.load=function(){var t=this;return this.__loadPromise?this.__loadPromise:(this.__loadPromise=new Promise(function(n,e){var r=function(){t.__loadPromise=null;var e=function(){return t.checkCorrectness()?window.AMapUI:(window[t.initAMapUI](),window.AMapUI)};n(t.isAutoInitAMapUI?e():e)};if(t.checkCorrectness())return r();var o=t.protocol,i=t.v,c=t.path.replace("{v}",i);Ce({url:o+(c="//"===c.replace("{v}",i).slice(0,2)?c:"//"+c),params:t.params,callbackProp:!1,scriptAttr:{async:!0,crossOrigin:t.crossOrigin},keepScriptTag:t.keepScriptTag,load:r,error:function(n){t.__loadPromise=null,e(n)}})}),this.__loadPromise)},e.checkCorrectness=function(){if(!window.AMapUI)return!1;for(var t=0,n=["libConf","uiMods","docProtocol","version"];t<n.length;t++){if(!(n[t]in window.AMapUI))return!1}return this.versionCompare(window.AMapUI.libConf.mainVersion,this.v)},e.versionCompare=function(t,n){return t===n},e.setProtocol=function(t){return this.protocol=t,this},e.setPath=function(t){return this.path=t,this},e.setV=function(t){return this.v=t,this},e.setAMapUIProtocol=function(t){var n="https:"===t?"https:":"http:";return window.AMapUIProtocol=n,this},e.setCrossOrigin=function(t){return this.crossOrigin=t,this},n}(me),Re="1.1.1",Ve={version:Re,Loader:me,load:ge,AMapJSAPILoader:xe,AMapUILoader:Fe};t.AMapJSAPILoader=xe,t.AMapUILoader=Fe,t.Loader=me,t["default"]=Ve,t.load=ge,t.version=Re,Object.defineProperty(t,"__esModule",{value:!0})});
