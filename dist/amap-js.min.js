/*!
 * AMapJS v1.0.0
 * 
 * Copyright (c) 2018 Derek Li
 * Released under the MIT License - https://choosealicense.com/licenses/mit/
 * 
 * https://github.com/iDerekLi/amap-js
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).AMapJS={})}(this,function(t){"use strict";function n(t,n){return t(n={exports:{}},n.exports),n.exports}var e=n(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),r=n(function(t){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)}),o=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},c=function(t){try{return!!t()}catch(n){return!0}},a=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=e.document,s=o(u)&&o(u.createElement),f=function(t){return s?u.createElement(t):{}},p=!a&&!c(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a}),l=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,d={f:a?Object.defineProperty:function(t,n,e){if(i(t),n=l(n,!0),i(e),p)try{return h(t,n,e)}catch(r){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},v=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},y=a?function(t,n,e){return d.f(t,n,v(1,e))}:function(t,n,e){return t[n]=e,t},m={}.hasOwnProperty,g=function(t,n){return m.call(t,n)},w=0,S=Math.random(),_=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++w+S).toString(36))},A=n(function(t){var n=_("src"),o="toString",i=Function[o],c=(""+i).split(o);r.inspectSource=function(t){return i.call(t)},(t.exports=function(t,r,o,i){var a="function"==typeof o;a&&(g(o,"name")||y(o,"name",r)),t[r]!==o&&(a&&(g(o,n)||y(o,n,t[r]?""+t[r]:c.join(String(r)))),t===e?t[r]=o:i?t[r]?t[r]=o:y(t,r,o):(delete t[r],y(t,r,o)))})(Function.prototype,o,function(){return"function"==typeof this&&this[n]||i.call(this)})}),b=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},M=function(t,n,e){if(b(t),n===undefined)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},O="prototype",j=function(t,n,o){var i,c,a,u,s=t&j.F,f=t&j.G,p=t&j.S,l=t&j.P,h=t&j.B,d=f?e:p?e[n]||(e[n]={}):(e[n]||{})[O],v=f?r:r[n]||(r[n]={}),m=v[O]||(v[O]={});for(i in f&&(o=n),o)a=((c=!s&&d&&d[i]!==undefined)?d:o)[i],u=h&&c?M(a,e):l&&"function"==typeof a?M(Function.call,a):a,d&&A(d,i,a,t&j.U),v[i]!=a&&y(v,i,u),l&&m[i]!=a&&(m[i]=a)};e.core=r,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;var P=j,T={}.toString,I=function(t){return T.call(t).slice(8,-1)},L=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},k=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t},U=function(t){return Object(k(t))},C=Math.ceil,E=Math.floor,x=function(t){return isNaN(t=+t)?0:(t>0?E:C)(t)},R=Math.min,F=function(t){return t>0?R(x(t),9007199254740991):0},N=Array.isArray||function(t){return"Array"==I(t)},q=!1,V=n(function(t){var n="__core-js_shared__",o=e[n]||(e[n]={});(t.exports=function(t,n){return o[t]||(o[t]=n!==undefined?n:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),G=n(function(t){var n=V("wks"),r=e.Symbol,o="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=o&&r[t]||(o?r:_)("Symbol."+t))}).store=n}),B=G("species"),D=function(t){var n;return N(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!N(n.prototype)||(n=undefined),o(n)&&null===(n=n[B])&&(n=undefined)),n===undefined?Array:n},z=function(t,n){return new(D(t))(n)},H=function(t,n){return!!t&&c(function(){n?t.call(null,function(){},1):t.call(null)})},J=function(t,n){var e=1==t,r=2==t,o=3==t,i=4==t,c=6==t,a=5==t||c,u=n||z;return function(n,s,f){for(var p,l,h=U(n),d=L(h),v=M(s,f,3),y=F(d.length),m=0,g=e?u(n,y):r?u(n,0):undefined;y>m;m++)if((a||m in d)&&(l=v(p=d[m],m,h),t))if(e)g[m]=l;else if(l)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:g.push(p)}else if(i)return!1;return c?-1:o||i?i:g}}(0),W=H([].forEach,!0);P(P.P+P.F*!W,"Array",{forEach:function(t){return J(this,t,arguments[1])}}),P(P.S,"Array",{isArray:N});var K=function(t){return L(k(t))},Q=Math.max,X=Math.min,Y=function(t,n){return(t=x(t))<0?Q(t+n,0):X(t,n)},Z=function(t){return function(n,e,r){var o,i=K(n),c=F(i.length),a=Y(r,c);if(t&&e!=e){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===e)return t||a||0;return!t&&-1}},$=G("unscopables"),tt=Array.prototype;tt[$]==undefined&&y(tt,$,{});var nt=function(t){tt[$][t]=!0},et=Z(!0);P(P.P,"Array",{includes:function(t){return et(this,t,arguments.length>1?arguments[1]:undefined)}}),nt("includes");var rt=V("keys"),ot=function(t){return rt[t]||(rt[t]=_(t))},it=Z(!1),ct=ot("IE_PROTO"),at=function(t,n){var e,r=K(t),o=0,i=[];for(e in r)e!=ct&&g(r,e)&&i.push(e);for(;n.length>o;)g(r,e=n[o++])&&(~it(i,e)||i.push(e));return i},ut="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),st=Object.keys||function(t){return at(t,ut)},ft=a?Object.defineProperties:function(t,n){i(t);for(var e,r=st(n),o=r.length,c=0;o>c;)d.f(t,e=r[c++],n[e]);return t};P(P.S+P.F*!a,"Object",{defineProperties:ft}),P(P.S+P.F*!a,"Object",{defineProperty:d.f});var pt=e.document,lt=pt&&pt.documentElement,ht=ot("IE_PROTO"),dt=function(){},vt="prototype",yt=function(){var t,n=f("iframe"),e=ut.length,r="<",o=">";for(n.style.display="none",lt.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write(r+"script"+o+"document.F=Object"+r+"/script"+o),t.close(),yt=t.F;e--;)delete yt[vt][ut[e]];return yt()},mt=Object.create||function(t,n){var e;return null!==t?(dt[vt]=i(t),e=new dt,dt[vt]=null,e[ht]=t):e=yt(),n===undefined?e:ft(e,n)};P(P.S,"Object",{create:mt});var gt={f:Object.getOwnPropertySymbols},wt={f:{}.propertyIsEnumerable},St=Object.assign,_t=!St||c(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=St({},t)[e]||Object.keys(St({},n)).join("")!=r})?function(t,n){for(var e=U(t),r=arguments.length,o=1,i=gt.f,c=wt.f;r>o;)for(var a,u=L(arguments[o++]),s=i?st(u).concat(i(u)):st(u),f=s.length,p=0;f>p;)c.call(u,a=s[p++])&&(e[a]=u[a]);return e}:St;P(P.S+P.F,"Object",{assign:_t});var At=G("toStringTag"),bt="Arguments"==I(function(){return arguments}()),Mt=function(t,n){try{return t[n]}catch(e){}},Ot=function(t){var n,e,r;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(e=Mt(n=Object(t),At))?e:bt?I(n):"Object"==(r=I(n))&&"function"==typeof n.callee?"Arguments":r},jt={};jt[G("toStringTag")]="z",jt+""!="[object z]"&&A(Object.prototype,"toString",function(){return"[object "+Ot(this)+"]"},!0);var Pt=function(t){return function(n,e){var r,o,i=String(k(n)),c=x(e),a=i.length;return c<0||c>=a?t?"":undefined:(r=i.charCodeAt(c))<55296||r>56319||c+1===a||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):r:t?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},Tt={},It=d.f,Lt=G("toStringTag"),kt=function(t,n,e){t&&!g(t=e?t:t.prototype,Lt)&&It(t,Lt,{configurable:!0,value:n})},Ut={};y(Ut,G("iterator"),function(){return this});var Ct=function(t,n,e){t.prototype=mt(Ut,{next:v(1,e)}),kt(t,n+" Iterator")},Et=ot("IE_PROTO"),xt=Object.prototype,Rt=Object.getPrototypeOf||function(t){return t=U(t),g(t,Et)?t[Et]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?xt:null},Ft=G("iterator"),Nt=!([].keys&&"next"in[].keys()),qt="@@iterator",Vt="keys",Gt="values",Bt=function(){return this},Dt=function(t,n,e,r,o,i,c){Ct(e,n,r);var a,u,s,f=function(t){if(!Nt&&t in d)return d[t];switch(t){case Vt:case Gt:return function(){return new e(this,t)}}return function(){return new e(this,t)}},p=n+" Iterator",l=o==Gt,h=!1,d=t.prototype,v=d[Ft]||d[qt]||o&&d[o],m=v||f(o),g=o?l?f("entries"):m:undefined,w="Array"==n&&d.entries||v;if(w&&(s=Rt(w.call(new t)))!==Object.prototype&&s.next&&(kt(s,p,!0),"function"!=typeof s[Ft]&&y(s,Ft,Bt)),l&&v&&v.name!==Gt&&(h=!0,m=function(){return v.call(this)}),(Nt||h||!d[Ft])&&y(d,Ft,m),Tt[n]=m,Tt[p]=Bt,o)if(a={values:l?m:f(Gt),keys:i?m:f(Vt),entries:g},c)for(u in a)u in d||A(d,u,a[u]);else P(P.P+P.F*(Nt||h),n,a);return a},zt=Pt(!0);Dt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:undefined,done:!0}:(t=zt(n,e),this._i+=t.length,{value:t,done:!1})});var Ht=function(t,n){return{value:n,done:!!t}},Jt=Dt(Array,"Array",function(t,n){this._t=K(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=undefined,Ht(1)):Ht(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");Tt.Arguments=Tt.Array,nt("keys"),nt("values"),nt("entries");for(var Wt=G("iterator"),Kt=G("toStringTag"),Qt=Tt.Array,Xt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Yt=st(Xt),Zt=0;Zt<Yt.length;Zt++){var $t,tn=Yt[Zt],nn=Xt[tn],en=e[tn],rn=en&&en.prototype;if(rn&&(rn[Wt]||y(rn,Wt,Qt),rn[Kt]||y(rn,Kt,tn),Tt[tn]=Qt,nn))for($t in Jt)rn[$t]||A(rn,$t,Jt[$t],!0)}var on,cn,an,un=function(t,n,e,r){if(!(t instanceof n)||r!==undefined&&r in t)throw TypeError(e+": incorrect invocation!");return t},sn=function(t,n,e,r){try{return r?n(i(e)[0],e[1]):n(e)}catch(c){var o=t["return"];throw o!==undefined&&i(o.call(t)),c}},fn=G("iterator"),pn=Array.prototype,ln=function(t){return t!==undefined&&(Tt.Array===t||pn[fn]===t)},hn=G("iterator"),dn=r.getIteratorMethod=function(t){if(t!=undefined)return t[hn]||t["@@iterator"]||Tt[Ot(t)]},vn=n(function(t){var n={},e={},r=t.exports=function(t,r,o,c,a){var u,s,f,p,l=a?function(){return t}:dn(t),h=M(o,c,r?2:1),d=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(ln(l)){for(u=F(t.length);u>d;d++)if((p=r?h(i(s=t[d])[0],s[1]):h(t[d]))===n||p===e)return p}else for(f=l.call(t);!(s=f.next()).done;)if((p=sn(f,h,s.value,r))===n||p===e)return p};r.BREAK=n,r.RETURN=e}),yn=G("species"),mn=function(t,n){var e,r=i(t).constructor;return r===undefined||(e=i(r)[yn])==undefined?n:b(e)},gn=function(t,n,e){var r=e===undefined;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)},wn=e.process,Sn=e.setImmediate,_n=e.clearImmediate,An=e.MessageChannel,bn=e.Dispatch,Mn=0,On={},jn="onreadystatechange",Pn=function(){var t=+this;if(On.hasOwnProperty(t)){var n=On[t];delete On[t],n()}},Tn=function(t){Pn.call(t.data)};Sn&&_n||(Sn=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return On[++Mn]=function(){gn("function"==typeof t?t:Function(t),n)},on(Mn),Mn},_n=function(t){delete On[t]},"process"==I(wn)?on=function(t){wn.nextTick(M(Pn,t,1))}:bn&&bn.now?on=function(t){bn.now(M(Pn,t,1))}:An?(an=(cn=new An).port2,cn.port1.onmessage=Tn,on=M(an.postMessage,an,1)):e.addEventListener&&"function"==typeof postMessage&&!e.importScripts?(on=function(t){e.postMessage(t+"","*")},e.addEventListener("message",Tn,!1)):on=jn in f("script")?function(t){lt.appendChild(f("script"))[jn]=function(){lt.removeChild(this),Pn.call(t)}}:function(t){setTimeout(M(Pn,t,1),0)});var In={set:Sn,clear:_n},Ln=In.set,kn=e.MutationObserver||e.WebKitMutationObserver,Un=e.process,Cn=e.Promise,En="process"==I(Un),xn=function(){var t,n,r,o=function(){var e,o;for(En&&(e=Un.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?r():n=undefined,i}}n=undefined,e&&e.enter()};if(En)r=function(){Un.nextTick(o)};else if(!kn||e.navigator&&e.navigator.standalone)if(Cn&&Cn.resolve){var i=Cn.resolve(undefined);r=function(){i.then(o)}}else r=function(){Ln.call(e,o)};else{var c=!0,a=document.createTextNode("");new kn(o).observe(a,{characterData:!0}),r=function(){a.data=c=!c}}return function(e){var o={fn:e,next:undefined};n&&(n.next=o),t||(t=o,r()),n=o}};function Rn(t){var n,e;this.promise=new t(function(t,r){if(n!==undefined||e!==undefined)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=b(n),this.reject=b(e)}var Fn={f:function(t){return new Rn(t)}},Nn=function(t){try{return{e:!1,v:t()}}catch(n){return{e:!0,v:n}}},qn=e.navigator,Vn=qn&&qn.userAgent||"",Gn=function(t,n){if(i(t),o(n)&&n.constructor===t)return n;var e=Fn.f(t);return(0,e.resolve)(n),e.promise},Bn=function(t,n,e){for(var r in n)A(t,r,n[r],e);return t},Dn=G("species"),zn=function(t){var n=e[t];a&&n&&!n[Dn]&&d.f(n,Dn,{configurable:!0,get:function(){return this}})},Hn=G("iterator"),Jn=!1;try{[7][Hn]()["return"]=function(){Jn=!0}}catch(Te){}var Wn,Kn,Qn,Xn,Yn=function(t,n){if(!n&&!Jn)return!1;var e=!1;try{var r=[7],o=r[Hn]();o.next=function(){return{done:e=!0}},r[Hn]=function(){return o},t(r)}catch(Te){}return e},Zn=In.set,$n=xn(),te="Promise",ne=e.TypeError,ee=e.process,re=ee&&ee.versions,oe=re&&re.v8||"",ie=e[te],ce="process"==Ot(ee),ae=function(){},ue=Kn=Fn.f,se=!!function(){try{var t=ie.resolve(1),n=(t.constructor={})[G("species")]=function(t){t(ae,ae)};return(ce||"function"==typeof PromiseRejectionEvent)&&t.then(ae)instanceof n&&0!==oe.indexOf("6.6")&&-1===Vn.indexOf("Chrome/66")}catch(Te){}}(),fe=function(t){var n;return!(!o(t)||"function"!=typeof(n=t.then))&&n},pe=function(t,n){if(!t._n){t._n=!0;var e=t._c;$n(function(){for(var r=t._v,o=1==t._s,i=0,c=function(n){var e,i,c,a=o?n.ok:n.fail,u=n.resolve,s=n.reject,f=n.domain;try{a?(o||(2==t._h&&de(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),c=!0)),e===n.promise?s(ne("Promise-chain cycle")):(i=fe(e))?i.call(e,u,s):u(e)):s(r)}catch(Te){f&&!c&&f.exit(),s(Te)}};e.length>i;)c(e[i++]);t._c=[],t._n=!1,n&&!t._h&&le(t)})}},le=function(t){Zn.call(e,function(){var n,r,o,i=t._v,c=he(t);if(c&&(n=Nn(function(){ce?ee.emit("unhandledRejection",i,t):(r=e.onunhandledrejection)?r({promise:t,reason:i}):(o=e.console)&&o.error&&o.error("Unhandled promise rejection",i)}),t._h=ce||he(t)?2:1),t._a=undefined,c&&n.e)throw n.v})},he=function(t){return 1!==t._h&&0===(t._a||t._c).length},de=function(t){Zn.call(e,function(){var n;ce?ee.emit("rejectionHandled",t):(n=e.onrejectionhandled)&&n({promise:t,reason:t._v})})},ve=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),pe(n,!0))},ye=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw ne("Promise can't be resolved itself");(n=fe(t))?$n(function(){var r={_w:e,_d:!1};try{n.call(t,M(ye,r,1),M(ve,r,1))}catch(Te){ve.call(r,Te)}}):(e._v=t,e._s=1,pe(e,!1))}catch(Te){ve.call({_w:e,_d:!1},Te)}}};se||(ie=function(t){un(this,ie,te,"_h"),b(t),Wn.call(this);try{t(M(ye,this,1),M(ve,this,1))}catch(n){ve.call(this,n)}},(Wn=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=Bn(ie.prototype,{then:function(t,n){var e=ue(mn(this,ie));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=ce?ee.domain:undefined,this._c.push(e),this._a&&this._a.push(e),this._s&&pe(this,!1),e.promise},"catch":function(t){return this.then(undefined,t)}}),Qn=function(){var t=new Wn;this.promise=t,this.resolve=M(ye,t,1),this.reject=M(ve,t,1)},Fn.f=ue=function(t){return t===ie||t===Xn?new Qn(t):Kn(t)}),P(P.G+P.W+P.F*!se,{Promise:ie}),kt(ie,te),zn(te),Xn=r[te],P(P.S+P.F*!se,te,{reject:function(t){var n=ue(this);return(0,n.reject)(t),n.promise}}),P(P.S+P.F*(q||!se),te,{resolve:function(t){return Gn(q&&this===Xn?ie:this,t)}}),P(P.S+P.F*!(se&&Yn(function(t){ie.all(t)["catch"](ae)})),te,{all:function(t){var n=this,e=ue(n),r=e.resolve,o=e.reject,i=Nn(function(){var e=[],i=0,c=1;vn(t,!1,function(t){var a=i++,u=!1;e.push(undefined),c++,n.resolve(t).then(function(t){u||(u=!0,e[a]=t,--c||r(e))},o)}),--c||r(e)});return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=ue(n),r=e.reject,o=Nn(function(){vn(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return o.e&&r(o.v),e.promise}});r.Promise;var me=function(){};function ge(t,n,e,r){var o=[];(Array.isArray(t)?t:[t]).forEach(function(t){if(!(t instanceof me))throw new TypeError(t+" is not an instance of Loader");if("function"!=typeof t.load)throw new TypeError(t.load+" is not a function");var n=t.load();o.push(n)});var i=Promise.all(o),c={then:n,"catch":e,"finally":r},a={then:function(t){c.then.apply(c,t)},"catch":function(t){c["catch"](t)},"finally":function(){c["finally"]()}},u=i;for(var s in c)"function"==typeof c[s]&&(u=u[s](a[s]));return i}function we(){return(we=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function Se(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function _e(t,n){void 0===n&&(n=!1);var e=n?"?":"",r=[],o=function(n){var e=t[n];if(["",undefined,null].includes(e))return"continue";e.constructor===Array?e.forEach(function(t){r.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t))}):r.push(encodeURIComponent(n)+"="+encodeURIComponent(e))};for(var i in t)o(i);return r.length?e+r.join("&"):""}Object.assign(me.prototype,{load:function(){}});var Ae={protocol:"https:",path:"webapi.amap.com/maps",key:"",v:"1.4.12",callback:"onAMapJS"+Math.ceil(Math.random()*Math.pow(10,16)),params:null,crossOrigin:"anonymous",keepScriptTag:!1},be=function(t){function n(n){var e;e=t.call(this,n)||this;var r=Object.assign({},Ae,n);return e.protocol=r.protocol,e.path=r.path,e.params=we({key:r.key,v:r.v,callback:r.callback},r.params),e.crossOrigin=r.crossOrigin,e.keepScriptTag=r.keepScriptTag,e}Se(n,t);var e=n.prototype;return e.load=function(){var t=this;if(this.checkCorrectness())return Promise.resolve(window.AMap);var n=document.createElement("script");n.charset="utf-8",n.type="text/javascript",n.async=!0,n.defer=!0,n.crossOrigin=this.crossOrigin,n.src=this.getRequestURL();var e=this.params.callback;return new Promise(function(r,o){window[e]=function(){return r(window.AMap)},"undefined"!=typeof n.onload?n.onload=function(){t.keepScriptTag||t.removeScriptTag(n)}:n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t.keepScriptTag||t.removeScriptTag(n))},n.onerror=function(e){t.keepScriptTag||t.removeScriptTag(n),o(e)},document.getElementsByTagName("head")[0].appendChild(n)})},e.checkCorrectness=function(){if(!window.AMap)return!1;for(var t=["v","Pixel","LngLat","Size","Bounds","Map"],n=0;n<t.length;n++){if(!(t[n]in window.AMap))return!1}return this.versionCompare(window.AMap.v,this.params.v)},e.versionCompare=function(t,n){return t===n},e.removeScriptTag=function(t){t.parentNode.removeChild(t)},e.toRequestURL=function(){return this.protocol+"//"+this.path+"?"+_e(this.params)},e.getRequestURL=function(){return this.toRequestURL()},e.setProtocol=function(t){return this.protocol=t,this},e.setPath=function(t){return this.path=t,this},e.setParams=function(t){this.params=t},e.setKey=function(t){return this.params&&(this.params.key=t),this},e.setV=function(t){return this.params&&(this.params.v=t),this},e.setCrossOrigin=function(t){return this.crossOrigin=t,this},n}(me),Me={v:"1.0",protocol:"https:",path:"webapi.amap.com/ui/{v}/main-async.js",crossOrigin:"anonymous",AMapUIProtocol:undefined,initAMapUI:"initAMapUI",isAutoInitAMapUI:!1,keepScriptTag:!1},Oe=function(t){function n(n){var e;e=t.call(this,n)||this;var r=Object.assign({},Me,n);return e.v=r.v,e.protocol=r.protocol,e.path=r.path,e.crossOrigin=r.crossOrigin,e.AMapUIProtocol=r.AMapUIProtocol,e.initAMapUI=r.initAMapUI,e.isAutoInitAMapUI=r.isAutoInitAMapUI,e.keepScriptTag=r.keepScriptTag,"string"==typeof e.AMapUIProtocol&&e.setAMapUIProtocol(e.AMapUIProtocol),e}Se(n,t);var e=n.prototype;return e.load=function(){var t=this;if(this.checkCorrectness()){var n=function(){return window.AMapUI};return Promise.resolve(this.isAutoInitAMapUI?n():n)}var e=document.createElement("script");return e.charset="utf-8",e.type="text/javascript",e.async=!0,e.defer=!0,e.crossOrigin=this.crossOrigin,e.src=this.getRequestURL(),new Promise(function(n,r){"undefined"!=typeof e.onload?e.onload=function(){t.keepScriptTag||t.removeScriptTag(e);var r=function(){return window[t.initAMapUI]()||window.AMapUI};n(t.isAutoInitAMapUI?r():r)}:e.onreadystatechange=function(){if("loaded"==e.readyState||"complete"==e.readyState){e.onreadystatechange=null,t.keepScriptTag||t.removeScriptTag(e);var r=function(){return window[t.initAMapUI]()||window.AMapUI};n(t.isAutoInitAMapUI?r():r)}},e.onerror=function(n){t.keepScriptTag||t.removeScriptTag(e),r(n)},document.getElementsByTagName("head")[0].appendChild(e)})},e.checkCorrectness=function(){if(!window.AMapUI)return!1;for(var t=["libConf","uiMods","docProtocol","version"],n=0;n<t.length;n++){if(!(t[n]in window.AMapUI))return!1}return this.versionCompare(window.AMapUI.libConf.mainVersion,this.v)},e.versionCompare=function(t,n){return t===n},e.removeScriptTag=function(t){t.parentNode.removeChild(t)},e.toRequestURL=function(){var t=this.protocol,n=this.v;return t+"//"+this.path.replace("{v}",n)},e.getRequestURL=function(){return this.toRequestURL()},e.setProtocol=function(t){return this.protocol=t,this},e.setPath=function(t){return this.path=t,this},e.setV=function(t){return this.v=t,this},e.setCrossOrigin=function(t){return this.crossOrigin=t,this},e.setAMapUIProtocol=function(t){var n="https:"===t?"https:":"http:";return window.AMapUIProtocol=n,this},n}(me),je="1.0.0",Pe={version:je,Loader:me,load:ge,AMapJSAPILoader:be,AMapUILoader:Oe};t["default"]=Pe,t.version=je,t.Loader=me,t.load=ge,t.AMapJSAPILoader=be,t.AMapUILoader=Oe,Object.defineProperty(t,"__esModule",{value:!0})});
